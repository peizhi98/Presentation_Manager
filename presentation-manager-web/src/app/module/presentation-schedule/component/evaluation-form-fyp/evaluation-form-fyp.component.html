<ng-container *ngIf="evaluationFormModel">
  <div *ngIf="isEditMode()">
    <span *ngIf="isFypPresentation()">
              Maximum Gap between panels:
      <mat-form-field style="width: 5%" appearance="fill">
        <mat-label>Gap</mat-label>
        <input type="number" matInput [(ngModel)]="evaluationFormModel.maxGap">
      </mat-form-field>
    </span>
    <span align="right">
      Total Weightage: {{totalWeightage}}
    </span>
  </div>

  <div cdkDropList class="example-list" (cdkDropListDropped)="drop($event)">
    <div class="example-box" [ngStyle]="!isEditMode()&&{'padding-top': '10px'}"
         *ngFor="let criteria of criteriaModels;let i = index;" cdkDrag>
      <p class="example-handle" style="text-align: center;" [hidden]="!isEditMode()" cdkDragHandle>
        <mat-icon> drag_handle</mat-icon>
      </p>

      <div class="example-custom-placeholder" *cdkDragPlaceholder></div>
      <div class="w-100">
        <h3 style="width: 2%; display: inline-block;">{{i + 1}}</h3>

        <mat-form-field style="width: 85%" *ngIf="isEditMode();else criteriaName" appearance="fill">
          <mat-label>Criteria</mat-label>
          <input matInput [(ngModel)]="criteria.name">
        </mat-form-field>
        <ng-template #criteriaName>
          <div style="width: 85%; display: inline-block">
            {{criteria.name}}
          </div>
        </ng-template>


        <div style="width: 5%; display: inline-block"></div>

        <mat-form-field style="width: 6%" class="right" appearance="fill" *ngIf="isEditMode();else weightage">
          <mat-label>Weightage</mat-label>
          <input matInput type="number" [(ngModel)]="criteria.weightage"
                 (ngModelChange)="calculateTotalWeightage()">
        </mat-form-field>
        <ng-template #weightage>
          <div style="width: 6%; display: inline-block">
            {{criteria.weightage}}%
          </div>
        </ng-template>

        <button *ngIf="isEditMode()" style="float: right" mat-icon-button color="primary" (click)="removeCriteria(i)">
          <mat-icon>delete_forever</mat-icon>
        </button>
      </div>

      <div style="margin: auto;width: 15%;">
        <mat-radio-group class="radio-label-above radio-label-content-center" [disabled]="isEditMode()"
                         [(ngModel)]="criteria.scale">
          <mat-radio-button *ngFor="let scale of scaleOptions" class="ml-2 radio-label-content-center"
                            [value]="scale">{{scale}}</mat-radio-button>
        </mat-radio-group>
      </div>

      <mat-form-field style="width: 100%" class="mt-2" appearance="outline">
        <mat-label>Comment Section</mat-label>
        <textarea matInput [(ngModel)]="criteria.comment" [disabled]="isEditMode()"></textarea>
      </mat-form-field>
    </div>
    <div class="example-box" *ngIf="isEditMode()" style="background-color: #ccc; padding-top: 20px">
      <p style="text-align: center;">
        <button mat-raised-button color="primary" (click)="addCriteria()">Add New Criteria</button>
      </p>
    </div>
  </div>

</ng-container>
<div class="mt-1 mb-1">
  <p align="right" *ngIf="isEditMode()">
    <button mat-raised-button color="primary" (click)="save()">Save</button>
  </p>
</div>
